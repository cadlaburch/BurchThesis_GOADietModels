scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
PollockStackedByYear
#Binning predator lengths
quantile(Pollock$Pred_len)
#Binning predator lengths
quantile(Pollock$Pred_len)
Pollock <- sc_groupings %>%
filter(Pred_nodc == 8791030701)
#Binning predator lengths
quantile(Pollock$Pred_len)
Pollock <- Pollock %>%
mutate(Len_bin = cut(Pred_len, breaks = c(6, 37, 47, 54, 75)))
#Recalculate PW for each year and length class
Pollock <- Pollock %>%
filter(pollock_grouping != "Empty") %>%
group_by(Year, Len_bin, pollock_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
PollockStackedByYear <- ggplot(Pollock, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
PollockStackedByYear
View(Pollock)
Pollock <- Pollock %>%
mutate(Len_bin = cut(Pred_len, breaks = c(6, 37, 47, 54, 75), na.rm = F))
Pollock <- sc_groupings %>%
filter(Pred_nodc == 8791030701)
Pollock <- Pollock %>%
mutate(Len_bin = cut(Pred_len, breaks = c(6, 37, 47, 54, 75), na.rm = F))
#Recalculate PW for each year and length class
Pollock_sum <- Pollock %>%
filter(pollock_grouping != "Empty") %>%
group_by(Year, Len_bin, pollock_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
PollockStackedByYear <- ggplot(Pollock_sum, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
PollockStackedByYear
Pollock <- Pollock %>%
mutate(Len_bin = cut(Pred_len, breaks = c(6, 37, 47, 54, 75), na.rm = T))
#Recalculate PW for each year and length class
Pollock_sum <- Pollock %>%
filter(pollock_grouping != "Empty") %>%
group_by(Year, Len_bin, pollock_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
PollockStackedByYear <- ggplot(Pollock_sum, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
PollockStackedByYear
Pollock <- Pollock %>%
mutate(Len_bin = cut(Pred_len, breaks = c(0, 37, 47, 54, 75), na.rm = T))
#Recalculate PW for each year and length class
Pollock_sum <- Pollock %>%
filter(pollock_grouping != "Empty") %>%
group_by(Year, Len_bin, pollock_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
PollockStackedByYear <- ggplot(Pollock_sum, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
PollockStackedByYear
ggsave("PollockStackedByYear.jpg", plot = PollockStackedByYearQ,
path = here("output"), device = "jpg")
ggsave("PollockStackedByYearQ.jpg", plot = PollockStackedByYear,
path = here("output"), device = "jpg")
PollockStacked <- ggplot(Pollock_sum, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
PollockStacked
PollockStacked <- ggplot(Pollock_sum, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock Diet", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("PollockStacked.jpg", plot = PollockStacked,
path = here("output"), device = "jpg")
quantile(Cod$Pred_len)
Cod <- sc_groupings %>%
filter(Pred_nodc == 8791030401)
quantile(Cod$Pred_len)
Cod <- Cod %>%
mutate(Len_bin = cut(Pred_len, breaks = c(0, 45, 55, 62, 105)))
Cod <- Cod %>%
filter(cod_grouping != "Empty") %>%
group_by(Year, Len_bin, cod_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
CodStackedByYear <- ggplot(Cod, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
CodStackedByYear
ggsave("CodStackedByYearQ.jpg", plot = CodStackedByYear,
path = here("output"), device = "jpg")
CodStacked <- ggplot(Cod, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
CodStacked
CodStacked <- ggplot(Cod, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod", y = "percent weight",
x = "predator length") +
theme_minimal()
CodStacked <- ggplot(Cod, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod Diet", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("CodStacked.jpg", plot = CodStackedByYear,
path = here("output"), device = "jpg")
Cod <- Cod %>%
filter(cod_grouping != "Empty") %>%
group_by(Len_bin, cod_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Cod <- Cod %>%
mutate(Len_bin = cut(Pred_len, breaks = c(0, 20, 30, 40, 50, 60, 75)))
Cod <- sc_groupings %>%
filter(Pred_nodc == 8791030401)
Cod <- Cod %>%
mutate(Len_bin = cut(Pred_len, breaks = c(0, 45, 55, 62, 105)))
Cod <- Cod %>%
filter(cod_grouping != "Empty") %>%
group_by(Len_bin, cod_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
CodStacked <- ggplot(Cod, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod Diet", y = "percent weight",
x = "predator length") +
theme_minimal()
CodStacked
ggsave("CodStacked.jpg", plot = CodStackedByYear,
path = here("output"), device = "jpg")
#Recalculate PW for each year and length class
Pollock_year <- Pollock %>%
filter(pollock_grouping != "Empty") %>%
group_by(Year, Len_bin, pollock_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Pollock_sum <- Pollock %>%
filter(pollock_grouping != "Empty") %>%
group_by(Len_bin, pollock_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
PollockStacked <- ggplot(Pollock_sum, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock Diet", y = "percent weight",
x = "predator length") +
theme_minimal()
PollockStacked
ggsave("PollockStacked.jpg", plot = PollockStacked,
path = here("output"), device = "jpg")
CodStacked <- ggplot(Cod_sum, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod Diet", y = "percent weight",
x = "predator length") +
theme_minimal()
CodStacked
ggsave("CodStacked.jpg", plot = CodStackedByYear,
path = here("output"), device = "jpg")
quantile(Sablefish$Pred_len)
quantile(Halibut$Pred_len)
Sablefish <- Sablefish %>%
mutate(Len_bin = cut(Pred_len, breaks = c(0, 52, 59, 65, 101)))
Halibut <- Halibut %>%
mutate(Len_bin = cut(Pred_len, breaks = c(0, 46, 59, 72, 167)))
Sablefish_year <- Sablefish %>%
filter(sablefish_grouping != "Empty") %>%
group_by(Year, Len_bin, sablefish_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Sablefish_sum <- Sablefish %>%
filter(sablefish_grouping != "Empty") %>%
group_by(Len_bin, sablefish_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Halibut_year <- Halibut %>%
filter(halibut_grouping != "Empty") %>%
group_by(Year, Len_bin, halibut_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Halibut_sum <- Halibut %>%
filter(halibut_grouping != "Empty") %>%
group_by(Len_bin, halibut_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
SablefishStackedByYear <- ggplot(Sablefish_year, aes(x = Len_bin, y = PW, fill = sablefish_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Sablefish By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
SablefishStackedByYear
SablefishStacked <- ggplot(Sablefish_sum, aes(x = Len_bin, y = PW, fill = sablefish_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "Sablefish By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("SablefishStackedByYearQ.jpg", plot = SablefishStackedByYear,
path = here("output"), device = "jpg")
ggsave("SablefishStacked.jpg", plot = SablefishStacked,
path = here("output"), device = "jpg")
HalibutStackedByYear <- ggplot(Halibut_year, aes(x = Len_bin, y = PW, fill = halibut_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Halibut By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
HalibutStackedByYear <- ggplot(Halibut_sum, aes(x = Len_bin, y = PW, fill = halibut_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "Halibut By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("HalibutStackedByYearQ.jpg", plot = HalibutStackedByYear,
path = here("output"), device = "jpg")
HalibutStackedByYear <- ggplot(Halibut_year, aes(x = Len_bin, y = PW, fill = halibut_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Halibut By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("HalibutStackedByYearQ.jpg", plot = HalibutStackedByYear,
path = here("output"), device = "jpg")
HalibutStacked <- ggplot(Halibut_sum, aes(x = Len_bin, y = PW, fill = halibut_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "Halibut By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("HalibutStacked.jpg", plot = HalibutStacked,
path = here("output"), device = "jpg")
CodStacked <- ggplot(Cod_sum, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod Diet", y = "percent weight",
x = "predator length") +
theme_minimal()
CodStacked
ggsave("CodStacked.jpg", plot = CodStackedByYear,
path = here("output"), device = "jpg")
ggsave("CodStacked.jpg", plot = CodStacked,
path = here("output"), device = "jpg")
View(raw_stomach_contents)
unique(raw_stomach_contents$INPFC_Area)
quantile(Sablefish$Pred_len)
#Load libraries
library(readr)
library(tidyverse)
library(here)
library(taxize)
#load data
raw_stomach_contents <- read_csv(here("data/GOA_Raw_StomachContents.csv"))
#################
#Adding Common Names for Predators
#warning this chunk will take time to run.
pred_names <- raw_stomach_contents %>%
distinct(Pred_name)
pred_list<-(sci2comm(pred_names$Pred_name, simplify = T, db = "ncbi"))
pred_names_df <- rownames_to_column(as.data.frame(do.call(rbind, pred_list)))
colnames(pred_names_df) <- c("Pred_name", "Com_name")
raw_stomach_contents_2021 <- read_csv(here("data/GOA_Raw_StomachContents2021.csv"))
#merging common names with overall dataframe
stomach_contents <- full_join(raw_stomach_contents, pred_names_df, by = "Pred_name")
stomach_contents_2021 <- full_join(raw_stomach_contents_2021, pred_names_df, by = "Pred_name")
#There's a couple of missing common names this is QC to correct that
head(stomach_contents)
head(stomach_contents_2021)
stomach_contents_test <- rbind(stomach_contents, stomach_contents_2021)
View(stomach_contents)
raw_stomach_contents_2021 <- read_csv(here("data/GOA_Raw_StomachContents2021.csv"))
raw_stomach_contents_2021 <- read_csv(here("data/GOA_Raw_StomachContents2021.csv"))
#There's a couple of missing common names this is QC to correct that
head(stomach_contents)
head(stomach_contents_2021)
unique(stomach_contents_2021$Year)
View(stomach_contents)
View(stomach_contents)
View(stomach_contents_2021)
test <- read_csv(here("test.csv"))
View(test)
test <- read_csv(here("PredPreyForWeb_goa_through2021.csv"))
test <- read_csv(here("PredPreyForWeb_goa_through2021.csv"))
test <- read_csv(here("data/PredPreyForWeb_goa_through2021.csv"))
View(test)
View(stomach_contents)
#There's a couple of missing common names this is QC to correct that
test <- stomach_contents %>%
filter(Com_name == NA)
#There's a couple of missing common names this is QC to correct that
test <- stomach_contents %>%
filter(Com_name == "")
#There's a couple of missing common names this is QC to correct that
test1 <- stomach_contents %>%
filter(Com_name == "")
#There's a couple of missing common names this is QC to correct that
unique(stomach_contents$Com_name)
#There's a couple of missing common names this is QC to correct that
stomach_contents %>%
filter(Com_name == NA)
#There's a couple of missing common names this is QC to correct that
1 <- stomach_contents %>%
filter(Com_name == is.na())
#There's a couple of missing common names this is QC to correct that
1 <- stomach_contents %>%
filter(is.na(Com_name))
#There's a couple of missing common names this is QC to correct that
test <- stomach_contents %>%
filter(is.na(Com_name))
View(test)
unique(test$Pred_name)
raw_stomach_contents2021 <- read_csv(here("data/GOA_Raw_StomachContents2021.csv"))
stomach_contents2021 <- full_join(raw_stomach_contents2021, pred_names_df, by = "Pred_name")
View(stomach_contents_2021)
View(raw_stomach_contents_2021)
raw_stomach_contents2021 <- read_csv(here("data/GOA_Raw_StomachContents2021.csv"))
View(raw_stomach_contents2021)
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
filter(unique(Pred_nodc)) %>%
select(Pred_name, Com_name, Year) %>%
group_by(Pred_name, Com_name, Year) %>%
summarize(n = n())
write.csv(stomach_contents, here("data/stomach_contents_2019", row.names = F))
write.csv(stomach_contents, here("data/stomach_contents_2019.csv", row.names = F))
write.csv(stomach_contents, here("data/stomach_contents_2019.csv"))
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
select(Pred_nodc, Pred_name, Com_name, Year) %>%
group_by(Pred_name, Com_name, Year) %>%
summarzize(n = length(unique(Pred_nodc)))
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
select(Pred_nodc, Pred_name, Com_name, Year) %>%
group_by(Pred_name, Com_name, Year) %>%
summarize(n = length(unique(Pred_nodc)))
#Plot so that it is easy to visualize
samplesize <- ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_minimal() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019)) +
theme(axis.text.x = element_text(angle = 90),
panel.grid.minor = element_blank())
samplesize
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
select(Pred_specn, Pred_name, Com_name, Year) %>%
group_by(Pred_name, Com_name, Year) %>%
summarize(n = length(unique(Pred_specn)))
#Plot so that it is easy to visualize
samplesize <- ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_minimal() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019)) +
theme(axis.text.x = element_text(angle = 90),
panel.grid.minor = element_blank())
samplesize
ggsave("samplesizetest.jpg", plot = samplesize, height = 20, width = 30, limitsize = F,
path = here("output"), device = "jpg")
View(samplesize)
###############
#Creating a table that shows sample sizes for each predator by year
sample_sized <- stomach_contents %>%
select(Pred_specn, Pred_name, Com_name, Year) %>%
group_by(Pred_name, Com_name, Year) %>%
summarize(n = length(unique(Pred_specn)))
View(sample_sized)
View(sample_size)
sample_size <- raw_stomach_contents2021 %>%
select(PRED_SPECN, Pred_Species, Pred_common, Year) %>%
group_by(Pred_Species, Pred_common, Year) %>%
summarize(n = length(unique(PRED_SPECN)))
#Plot so that it is easy to visualize
samplesize <- ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_minimal() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019)) +
theme(axis.text.x = element_text(angle = 90),
panel.grid.minor = element_blank())
ggsave("samplesizetest.jpg", plot = samplesize, height = 20, width = 30, limitsize = F,
path = here("output"), device = "jpg")
sample_size2019 <- raw_stomach_contents2021 %>%
select(PRED_SPECN, Pred_Species, Pred_common, Year) %>%
group_by(Pred_Species, Pred_common, Year) %>%
summarize(n = length(unique(PRED_SPECN)))
samplesize2019 <- ggplot(sample_size2019, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Pred_Species, scales = "free_y") +
theme_minimal() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019, 2021)) +
theme(axis.text.x = element_text(angle = 90),
panel.grid.minor = element_blank())
samplesize2019
samplesize2019 <- ggplot(sample_size2019, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Pred_common, scales = "free_y") +
theme_minimal() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019, 2021)) +
theme(axis.text.x = element_text(angle = 90),
panel.grid.minor = element_blank())
ggsave("samplesizetest.jpg", plot = samplesize2019, height = 20, width = 30, limitsize = F,
path = here("output"), device = "jpg")
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- raw_stomach_contents2021 %>%
mutate(uniqueID == paste(HAULJOIN, PRED_NODC, PRED_SPECN))
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- raw_stomach_contents2021 %>%
mutate(uniqueID = paste(HAULJOIN, PRED_NODC, PRED_SPECN))
View(sample_size)
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- raw_stomach_contents2021 %>%
mutate(uniqueID = paste(HAULJOIN, PRED_NODC, PRED_SPECN, sep = "_"))
sample_size <- stomach_contents %>%
select(uniqueID, Pred_name, Com_name, Year) %>%
group_by(Pred_name, Com_name, Year) %>%
summarize(n = length(unique(uniqueID)))
###############
#Creating a table that shows sample sizes for each predator by year
#creating a unique ID for each stomach
stomach_contents_2021 <- raw_stomach_contents2021 %>%
mutate(uniqueID = paste(HAULJOIN, PRED_NODC, PRED_SPECN, sep = "_"))
sample_size2021 <- stomach_contents_2021 %>%
select(uniqueID, Pred_Species, Pred_common, Year) %>%
group_by(Pred_Species, Pred_common, Year) %>%
summarize(n = length(unique(uniqueID)))
samplesize2021 <- ggplot(sample_size2021, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Pred_common, scales = "free_y") +
theme_minimal() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019, 2021)) +
theme(axis.text.x = element_text(angle = 90),
panel.grid.minor = element_blank())
samplesize2021
sample_size2021 <- stomach_contents_2021 %>%
select(uniqueID, Pred_common, Year) %>%
group_by(Pred_common, Year) %>%
summarize(n = length(unique(uniqueID)))
samplesize2021 <- ggplot(sample_size2021, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Pred_common, scales = "free_y") +
theme_minimal() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019, 2021)) +
theme(axis.text.x = element_text(angle = 90),
panel.grid.minor = element_blank())
samplesize2021
ggsave("samplesizetest.jpg", plot = samplesize2021, height = 20, width = 30, limitsize = F,
path = here("output"), device = "jpg")
