'#aaffc3', '#e6beff', '#a9a9a9', '#fabebe')
PollockStackedByYear <- ggplot(Poll_PW, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("PollockStackedByYear.jpg", plot = PollockStackedByYear,
path = here("output"), device = "jpg")
codcolorlist<-c('#e6194b', '#f58231', '#ffe119', '#bcf60c', '#3cb44b', '#46f0f0',
'#4363d8', '#911eb4', '#f032e6', '#800000',
'#ffd8b1', '#808000', '#fffac8', '#000075',
'#aaffc3', '#e6beff', '#a9a9a9', '#fabebe')
ggplot(Cod_PW, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = codcolorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
Cod_PW <- Cod %>%
filter(Pred_nodc == 8791030701, cod_grouping != "Empty") %>%
group_by(Year, Len_bin, cod_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
#Recalculate PW for each year and length class
Poll_PW <- Pollock %>%
filter(Pred_nodc == 8791030701, pollock_grouping != "Empty") %>%
group_by(Year, Len_bin, pollock_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
PollockStackedByYear <- ggplot(Poll_PW, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("PollockStackedByYear.jpg", plot = PollockStackedByYear,
path = here("output"), device = "jpg")
ggplot(Cod_PW, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = codcolorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
colorlist<-c('#e6194b', '#f58231', '#ffe119', '#bcf60c', '#3cb44b', '#46f0f0',
'#4363d8', '#911eb4', '#f032e6', '#800000', '#9A6324',
'#ffd8b1', '#808000', '#fffac8', '#000075', '#008080',
'#aaffc3', '#e6beff', '#a9a9a9', '#fabebe')
ggplot(Cod_PW, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
PollockStackedByYear <- ggplot(Poll_PW, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("PollockStackedByYear.jpg", plot = PollockStackedByYear,
path = here("output"), device = "jpg")
CodStackedByYear <- ggplot(Cod_PW, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("CodStackedByYear.jpg", plot = CodStackedByYear,
path = here("output"), device = "jpg")
Sablefish <- sc_groupings %>%
filter(Pred_nodc == 8827020101)
range(Sablefish$Pred_len)
range(Cod$Pred_len)
range(Sablefish$Pred_len)
Sablefish <- Sablefish %>%
mutate(Len_bin = cut(Pred_len, breaks = c(20, 40, 60, 80, 101)))
Cod_PW <- Cod %>%
filter(cod_grouping != "Empty") %>%
group_by(Year, Len_bin, cod_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
CodStackedByYear <- ggplot(Cod_PW, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
CodStackedByYear
ggsave("CodStackedByYear.jpg", plot = CodStackedByYear,
path = here("output"), device = "jpg")
PW <- raw_stomach_contents %>%
filter(Pred_nodc == 8827020101) %>% #filter Sablefish
group_by(Prey_Name) %>%  #group by prey
summarise(TotalWt = sum(Prey_twt), N = n()) %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100),  PN = (N/sum(N))*100)
#Filter to prey that are >=1% composition of predator diet
PW_group <- PW %>%
filter(PW >= 2)
groupings <- read_csv(here("output/groupings.csv"))
#join grouping with main data
sc_groupings <- left_join(raw_stomach_contents,groupings,by="Prey_Name")
Sablefish <- sc_groupings %>%
filter(Pred_nodc == 8827020101)
Sablefish <- Sablefish %>%
mutate(Len_bin = cut(Pred_len, breaks = c(20, 40, 60, 80, 101)))
Sablefish <- Sablefish %>%
filter(cod_grouping != "Empty") %>%
group_by(Year, Len_bin, sablefish_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
ggplot(Sablefish_PW, aes(x = Len_bin, y = PW, fill = sablefish_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggplot(Sablefish, aes(x = Len_bin, y = PW, fill = sablefish_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
#Recalculate PW for each year and length class
Poll <- Pollock %>%
filter(pollock_grouping != "Empty") %>%
group_by(Year, Len_bin, pollock_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Cod <- Cod %>%
filter(cod_grouping != "Empty") %>%
group_by(Year, Len_bin, cod_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
#Recalculate PW for each year and length class
Pollock <- Pollock %>%
filter(pollock_grouping != "Empty") %>%
group_by(Year, Len_bin, pollock_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
PollockStackedByYear <- ggplot(Pollock, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("PollockStackedByYear.jpg", plot = PollockStackedByYear,
path = here("output"), device = "jpg")
CodStackedByYear <- ggplot(Cod, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("CodStackedByYear.jpg", plot = CodStackedByYear,
path = here("output"), device = "jpg")
CodStackedByYear
ggplot(Sablefish, aes(x = Len_bin, y = PW, fill = sablefish_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Sablefish By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
SablefishStackedByYear <- ggplot(Sablefish, aes(x = Len_bin, y = PW, fill = sablefish_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Sablefish By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("SablefishStackedByYear.jpg", plot = SablefishStackedByYear,
path = here("output"), device = "jpg")
PW <- raw_stomach_contents %>%
filter(Pred_nodc == 8857041901) %>% #filter Halibut
group_by(Prey_Name) %>%  #group by prey
summarise(TotalWt = sum(Prey_twt), N = n()) %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100),  PN = (N/sum(N))*100)
#Filter to prey that are >=1% composition of predator diet
PW_group <- PW %>%
filter(PW >= 2)
groupings <- read_csv(here("output/groupings.csv"))
#join grouping with main data
sc_groupings <- left_join(raw_stomach_contents,groupings,by="Prey_Name")
Halibut <- sc_groupings %>%
filter(Pred_nodc == 8857041901)
range(Halibut$Pred_len)
Halibut <- Halibut %>%
mutate(Len_bin = cut(Pred_len, breaks = c(0, 30, 60, 90, 120, 150, 167)))
Sablefish <- Sablefish %>%
filter(sablefish_grouping != "Empty") %>%
group_by(Year, Len_bin, sablefish_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Sablefish <- Sablefish %>%
filter(sablefish_grouping != "Empty") %>%
group_by(Year, Len_bin, sablefish_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Sablefish <- Sablefish %>%
mutate(Len_bin = cut(Pred_len, breaks = c(20, 40, 60, 80, 101)))
Sablefish <- sc_groupings %>%
filter(Pred_nodc == 8827020101)
Sablefish <- Sablefish %>%
mutate(Len_bin = cut(Pred_len, breaks = c(20, 40, 60, 80, 101)))
Sablefish <- Sablefish %>%
filter(sablefish_grouping != "Empty") %>%
group_by(Year, Len_bin, sablefish_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Halibut <- Halibut %>%
filter(halibut_grouping != "Empty") %>%
group_by(Year, Len_bin, halibut_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
ggplot(Halibut, aes(x = Len_bin, y = PW, fill = halibut_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Halibut By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
groupings <- read_csv(here("output/groupings.csv"))
#join grouping with main data
sc_groupings <- left_join(raw_stomach_contents,groupings,by="Prey_Name")
Pollock <- sc_groupings %>%
filter(Pred_nodc == 8791030701)
Cod <- sc_groupings %>%
filter(Pred_nodc == 8791030701)
Sablefish <- sc_groupings %>%
filter(Pred_nodc == 8827020101)
Halibut <- sc_groupings %>%
filter(Pred_nodc == 8857041901)
#Binning predator lengths
range(Pollock$Pred_len)
range(Cod$Pred_len)
range(Sablefish$Pred_len)
range(Halibut$Pred_len)
Pollock <- Pollock %>%
mutate(Len_bin = cut(Pred_len, breaks = c(0, 20, 30, 40, 50, 60, 75)))
Cod <- Cod %>%
mutate(Len_bin = cut(Pred_len, breaks = c(0, 20, 30, 40, 50, 60, 75)))
Sablefish <- Sablefish %>%
mutate(Len_bin = cut(Pred_len, breaks = c(20, 40, 60, 80, 101)))
Halibut <- Halibut %>%
mutate(Len_bin = cut(Pred_len, breaks = c(0, 30, 60, 90, 120, 150, 167)))
#Recalculate PW for each year and length class
Pollock <- Pollock %>%
filter(pollock_grouping != "Empty") %>%
group_by(Year, Len_bin, pollock_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Cod <- Cod %>%
filter(cod_grouping != "Empty") %>%
group_by(Year, Len_bin, cod_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Sablefish <- Sablefish %>%
filter(sablefish_grouping != "Empty") %>%
group_by(Year, Len_bin, sablefish_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
Halibut <- Halibut %>%
filter(halibut_grouping != "Empty") %>%
group_by(Year, Len_bin, halibut_grouping) %>%
summarise(TotalWt = sum(Prey_twt))  %>%
mutate(PW = (TotalWt/(sum(TotalWt))*100))
colorlist<-c('#e6194b', '#f58231', '#ffe119', '#bcf60c', '#3cb44b', '#46f0f0',
'#4363d8', '#911eb4', '#f032e6', '#800000', '#9A6324',
'#ffd8b1', '#808000', '#fffac8', '#000075', '#008080',
'#aaffc3', '#e6beff', '#a9a9a9', '#fabebe')
PollockStackedByYear <- ggplot(Pollock, aes(x = Len_bin, y = PW, fill = pollock_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Walleye Pollock By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
length(unique(Pollock$pollock_grouping))
ggsave("PollockStackedByYear.jpg", plot = PollockStackedByYear,
path = here("output"), device = "jpg")
CodStackedByYear <- ggplot(Cod, aes(x = Len_bin, y = PW, fill = cod_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "P Cod By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("CodStackedByYear.jpg", plot = CodStackedByYear,
path = here("output"), device = "jpg")
SablefishStackedByYear <- ggplot(Sablefish, aes(x = Len_bin, y = PW, fill = sablefish_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Sablefish By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("SablefishStackedByYear.jpg", plot = SablefishStackedByYear,
path = here("output"), device = "jpg")
ggplot(Halibut, aes(x = Len_bin, y = PW, fill = halibut_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Halibut By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
HalibutStackedByYear <- ggplot(Halibut, aes(x = Len_bin, y = PW, fill = halibut_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Halibut By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
ggsave("HalibutStackedByYear.jpg", plot = HalibutStackedByYear,
path = here("output"), device = "jpg")
#Load libraries
library(readr)
#load data
raw_stomach_contents <- read_csv(here("data/GOA_Raw_StomachContents.csv"))
sample_size <- raw_stomach_contents %>%
select(Pred_name, Year) %>%
group_by(Pred_name, Year) %>%
mutate(n = n())
View(sample_size)
sample_size <- raw_stomach_contents %>%
select(Pred_name, Year) %>%
group_by(Pred_name, Year) %>%
summarize(n = n())
#Adding Common Names for Predators
#warning this chunk will take time to run.
pred_names <- raw_stomach_contents %>%
distinct(Pred_name)
library(taxize)
pred_list<-(sci2comm(pred_names$Pred_name, simplify = T, db = "ncbi"))
pred_names_df <- rownames_to_column(as.data.frame(do.call(rbind, pred_list)))
colnames(pred_names_df) <- c("Pred_name", "Com_name")
#merging common names with overall dataframe
stomach_contents <- full_join(raw_stomach_contents, pred_names_df, by = "Pred_name")
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
group_by(Com_name, Year) %>%
summarize(n = n())
View(sample_size)
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
select(Pred_name, Com_name, Year) %>%
group_by(Pred_name, Year) %>%
mutate(n = n())
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
select(Pred_name, Com_name, Year) %>%
group_by(Pred_name, Year) %>%
mutate(n = unique(n()))
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
select(Pred_name, Com_name, Year) %>%
group_by(Pred_name, Year) %>%
mutate(n = distinct(n()))
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
select(Pred_name, Com_name, Year) %>%
group_by(Pred_name, Year) %>%
summarize(n = n())
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
select(Pred_name, Com_name, Year) %>%
group_by(Pred_name, Year) %>%
summarize(n = n(), Com_name)
###############
#Creating a table that shows sample sizes for each predator by year
sample_size <- stomach_contents %>%
select(Pred_name, Com_name, Year) %>%
group_by(Pred_name, Com_name, Year) %>%
summarize(n = n())
View(sample_size)
#Plot so that it is easy to visualize
ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar() +
facet_wrap(~Com_name)
#Plot so that it is easy to visualize
ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name)
#Plot so that it is easy to visualize
ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free")
#Plot so that it is easy to visualize
ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y")
#Plot so that it is easy to visualize
ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_minimal()
#Plot so that it is easy to visualize
ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme(axis.text.x = element_text(angle = 90)) +
theme_minimal()
#Plot so that it is easy to visualize
ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
HalibutStackedByYear <- ggplot(Halibut, aes(x = Len_bin, y = PW, fill = halibut_grouping)) +
geom_bar(stat = "identity") +
facet_wrap(~Year) +
scale_fill_manual(values = colorlist) +
labs(title = "Halibut By Year", y = "percent weight",
x = "predator length") +
theme_minimal()
#Plot so that it is easy to visualize
ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90))
#Plot so that it is easy to visualize
samplesize <- ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90))
ggsave("samplesize.jpg", plot = samplesize,
path = here("output"), device = "jpg")
ggsave("samplesize.jpg", plot = samplesize, height = 50, width = 80
path = here("output"), device = "jpg")
ggsave("samplesize.jpg", plot = samplesize, height = 50, width = 80,
path = here("output"), device = "jpg")
ggsave("samplesize.jpg", plot = samplesize, height = 50, width = 80, limitsize = F,
path = here("output"), device = "jpg")
ggsave("samplesize.jpg", plot = samplesize, height = 30, width = 40, limitsize = F,
path = here("output"), device = "jpg")
ggsave("samplesize.jpg", plot = samplesize, height = 20, width = 30, limitsize = F,
path = here("output"), device = "jpg")
unique(stomach_contents$Year)
order(unique(stomach_contents$Year), descending = T)
order(unique(stomach_contents$Year))
unique(stomach_contents$Year)
#Plot so that it is easy to visualize
samplesize <- ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_minimal() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019)) +
theme(axis.text.x = element_text(angle = 90))
ggsave("samplesize.jpg", plot = samplesize, height = 20, width = 30, limitsize = F,
path = here("output"), device = "jpg")
#Plot so that it is easy to visualize
samplesize <- ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_minimal() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019)) +
theme(axis.text.x = element_text(angle = 90),
panel.grid.minor = element_blank())
ggsave("samplesize.jpg", plot = samplesize, height = 20, width = 30, limitsize = F,
path = here("output"), device = "jpg")
#Plot so that it is easy to visualize
samplesize <- ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_bw() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019)) +
theme(axis.text.x = element_text(angle = 90),
panel.grid.minor = element_blank())
ggsave("samplesize.jpg", plot = samplesize, height = 20, width = 30, limitsize = F,
path = here("output"), device = "jpg")
#Plot so that it is easy to visualize
samplesize <- ggplot(sample_size, aes(x = Year, y = n)) +
geom_bar(stat = "identity") +
facet_wrap(~Com_name, scales = "free_y") +
theme_minimal() +
scale_x_continuous(breaks = c(1981, 1987, 1990, 1993, 1996, 1999,
2001, 2003, 2005, 2007, 2009, 2011,
2013, 2015, 2017, 2019)) +
theme(axis.text.x = element_text(angle = 90),
panel.grid.minor = element_blank())
ggsave("samplesize.jpg", plot = samplesize, height = 20, width = 30, limitsize = F,
path = here("output"), device = "jpg")
stomach_contents_test <- stomach_contents %>%
mutate(Com_name = if(Pred_name = "Embassichthys bathybius"){test})
stomach_contents_test <- stomach_contents %>%
mutate(Com_name = if(Pred_name == "Embassichthys bathybius"){test})
